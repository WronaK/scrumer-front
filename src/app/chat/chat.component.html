<div class="container">
  <div class="chat">
    <div class="name">
      {{activeChannelName}}
    </div>
    <div class="content">
      <div *ngFor="let chatMessage of webSocketService.chatMessages" [ngClass]="chatMessage.senderId === user.id? 'my' : 'other'">
        <div *ngIf="chatMessage.senderId !== user.id">{{chatMessage.senderName}}</div>
        <div>{{chatMessage.content}}</div>
      </div>
    </div>
    <div class="send">
      <form content [formGroup]="messageForm">
        <mat-form-field>
          <mat-label>Enter your message....</mat-label>
          <input [formControl]="messageInput" matInput>
        </mat-form-field>
      </form>
      <button action mat-raised-button (click)="sendMessage()">SEND</button>
    </div>
  </div>
  <div class="chat-column">
    <div class="search">
      <input matInput placeholder="Search"/>
    </div>
    <div class="users">
      <div class="user" *ngFor="let channel of webSocketService.channels" (click)="setActiveChannel(channel.idChannel, channel.channelName)">
        <div class="img-user">
          <div class="img-u"></div>
        </div>
        <div class="user-name">{{channel.channelName}}</div>
        <div class="content-message" *ngIf="channel.numberNewMessage==0">{{channel.lastMessage}}</div>
        <div class="content-message" *ngIf="channel.numberNewMessage">You have {{channel.numberNewMessage}} new messages.</div>
      </div>
    </div>
    <div class="new">
      <button mat-raised-button (click)="createNewConversation()">Start a new conversation</button>
    </div>
  </div>
</div>
